---
title: 22. Copy in Python
date: 2019-10-01 00:00:00 Z
categories:
- PythonTutorial
tags:
- learning
- Installation
image: https://girishgodage.github.io/img/Python_logo.png
author: Girish Godage
layout: posts
prevurl: https://girishgodage.github.io/blog/Pythonlesson21
nexturl: https://girishgodage.github.io/blog/Pythonlesson23
discussion_id: 2019-09-30-PythonCopy
---

<section class="Ptutorial22">
    <div class="item-page" itemscope="" itemtype="https://schema.org/Article">
        <meta itemprop="inLanguage" content="en-GB">
        <div class="page-header">
            <h2 itemprop="headline"> Python COPY File using shutil.copy(), shutil.copystat() </h2>
        </div>

        <div itemprop="articleBody">

            <h2>Python Copy File Methods</h2>
            <p>Python provides in-built functions for easily copying files using the Operating System Shell utilities.
            </p>
            <p>Following command is used to Copy File </p>
            <pre class="code-toolbar"><code>shutil.copy(src,dst)</code></pre>
            <p>Following command is used to Copy File with MetaData Information </p>
            <pre class="code-toolbar"><code>shutil.copystat(src,dst)</code></pre>
            <p>Here are the steps to copy file in Python </p>
            <p><strong>Step 1)</strong> Before, we copy a file, we need to get the the path to the original file in the
                current directory. In the code - </p>
            <ol>
                <li>Declaring variable</li>
                <li>Applying split function on variable</li>
            </ol>
            <p style="text-align: center; "><a href="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.5.png"
                    class="jh-image-popup-colorbox cboxElement"><img
                        title="O.S Path Utilities &amp; File System Shell Methods Python"
                        alt="Python OS Module, Shell Script Commands"
                        src="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.5.png"></a> </p>
            <p><strong>Code Explanation</strong> </p>
            <ul>
                <li>First we are going to check that our "Girish.txt" file exists or not. Since we have created
                    Girish.txt file earlier, we know it exists, and we will carry on further with the code</li>
                <li>We store the file path in the variable "<strong>src</strong>" if your file exist</li>
                <li>Once we get the path, we going to separate the path and the file name</li>
                <li>For that, we are going to use the split <code>path.split</code> function on source variable</li>
                <li>Code when executed prints out "<strong>file name</strong>" and "<strong>file path</strong>"
                    separately </li>
            </ul>
            <p><strong>Step 2)</strong> We use Shutil Module to create a copy of the existing file. Here we used to
                create a copy of our existing file "Girish.txt." </p>
            <p style="text-align: center; "><a href="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.6.png"
                    class="jh-image-popup-colorbox cboxElement"><img
                        title="O.S Path Utilities &amp; File System Shell Methods Python"
                        alt="Python OS Module, Shell Script Commands"
                        src="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.6.png"></a> </p>
            <p><strong>Code Explanation</strong></p>

            <ul>
                <li>Take the original file name "Girish.txt" and add letters .bak at the end "Girish.txt.bak". This name
                    with .bak extension is going to be our duplicate copy </li>
                <li>And then we going to use utility's copy function to copy from source to the destination</li>
                <li>When you run the code, you will see a duplicate file with .bak extension is created on right-hand
                    side of the panel</li>
            </ul>
            <p><strong>Step 3)</strong> Copy function only copies the content of the file but no other information. To
                copy <strong>meta-data</strong> associated with the file, file permission and other information you have
                to use "<strong>copystat</strong>" function. Before we run this code, we have to delete our copy file
                "Girish.text.bak". </p>
            <p style="text-align: center; "><a href="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.7.png"
                    class="jh-image-popup-colorbox cboxElement"><img
                        title="O.S Path Utilities &amp; File System Shell Methods Python"
                        alt="Python OS Module, Shell Script Commands"
                        src="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.7.png"></a> </p>
            <p>Once you deleted the file and run the program it will create a copy of your .txt file but this time with
                all the information like <strong>file permission, modification time and meta-data information</strong>.
                You can go to your O.S shell to verify the information. </p>
            <p style="text-align: center; "><a href="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.8.png"
                    class="jh-image-popup-colorbox cboxElement"><img
                        title="O.S Path Utilities &amp; File System Shell Methods Python"
                        alt="Python OS Module, Shell Script Commands"
                        src="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.8.png"></a> </p>
            <p>Here is the code </p>
            <pre class="code-toolbar"><code>
         import os
         import shutil
         from os import path
         
         def main():
             # make a duplicate of an existing file
             if path.exists("Girish.txt"):
             # get the path to the file in the current directory
                 src = path.realpath("Girish.txt");
             
             #seperate the path from the filter
             head, tail = path.split(src)
             print("path:" +head)
             print("file:" +tail)
             
             #let's make a backup copy by appending "bak" to the name
             dst = src+".bak"
             # nowuse the shell to make a copy of the file
             shutil.copy(src, dst)
             
             #copy over the permissions,modification
             shutil.copystat(src,dst)
             
         if __name__=="__main__":
             main()
         </code></pre>
            <p><strong>Step 4)</strong> You can fetch the information about the text file last modified </p>
            <p style="text-align:center; "><a
                    href="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.4_New.png"
                    class="jh-image-popup-colorbox cboxElement"><img
                        title="O.S Path Utilities &amp; File System Shell Methods Python"
                        alt="Python OS Module, Shell Script Commands"
                        src="{{site.url}}{{site.baseurl}}/img/python/tutorial/22/Python18.4_New.png"></a> </p>
            <ul>
                <li>
                    <div>Code Line#15- It tells the day, date, month, year and time when .txt file (Girish) was last
                        modified. We use the path module to get the file modification time details, and then we are
                        going to use the <strong>time classes c time function </strong>to convert that into a readable
                        time. So when we run the code, we can see the file Girish.txt was last modified on <strong>Mon,
                            Jan 8<sup>th</sup> at 13:35 2018. </strong></div>
                </li>
                <li>
                    <div>Code Line#17- It does the same thing giving information about file modification, but it has a
                        different format to represent it. Here we use <strong>Get Modification Time function</strong>
                        (path.getmtime("Girish.txt")). Now instead of using the c time function we going to use
                        <strong>From Time Stamp function </strong>and going to construct a date time object. In output,
                        you can see file modification time detail is printed out in different format <strong>2018-01-08,
                            13:35:51.334072</strong> </div>
                </li>
            </ul>
            <p>Here is the code </p>
            <pre class="code-toolbar"><code>
         #
         # Example file for working with o.s path module
         
         
         import os
         from os import path
         import datetime
         from datetime import date, time, timedelta
         import time
         
         def main():
         
         
             # Get the modification time
             t = time.ctime(path.getmtime("Girish.txt.bak"))
             print(t)
             print(datetime.datetime.fromtimestamp(path.getmtime("Girish.txt.bak")))
         
         
         if __name__ == "__main__":
             main()
         </code></pre>
            <p><strong>Summary</strong> </p>
            <ul>
                <li>To create a copy of the existing file by use code <strong>shutil.copy (src,dst)</strong> </li>
                <li>To copy all the information of original file to duplicate file like <strong>file permission,
                        modification time or meta-data information</strong> by use code shutil.copystat(src,dst)</li>
            </ul>

        </div>

    </div>
</section>
{% include blogslide.html %}