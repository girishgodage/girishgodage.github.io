<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#2A80EE">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#2A80EE">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#2A80EE">
<title>Girish Godage | Passionate Leader, who has a good command in technology & Management</title>
<meta name="description" content="I am a passionate Leader, who has a good command in technology & Mangement. Also, I am a creative designer and an innovatie techie.">
<meta name="keywords" content="Girish Godage, Girish Godage007, girish godage, girish, godage, girish godage, girish godage github blog, girish godage yt">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
    <link rel="canonical" href="https://girishgodage.github.io/index.html">
    <!-- Bootstrap CSS-->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <!-- Google fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Advent+Pro">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Varela+Round">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abel">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
   
    <!-- owl carousel-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.css" >
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.theme.css">
    
    <!-- animate.css-->
    <link rel="stylesheet" href="http://localhost:4000/sitejs/animate.css/animate.css">
    <!-- theme stylesheet-->
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="http://localhost:4000/css/custom.css" as="style">
    <link rel="stylesheet" href="http://localhost:4000/css/comments.css" as="style">
    <!-- Favicon-->
    <link rel="shortcut icon" href="http://localhost:4000/img/logo-big.png">
    <!-- Fab Icon-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-mfizz/2.4.1/font-mfizz.min.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130164763-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

         gtag('config', 'UA-130164763-2');
    </script>
    <!-- Typed.js DONT TOUCHHHHHHHHHHHHH!-->
    <!--<script src="https://cdn.rawgit.com/mattboldt/typed.js/master/lib/typed.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.9/typed.min.js"></script>
    <script>
        function copyToClipboard(element) {
            var $temp = $("<input>");
            $("body").append($temp);
            $temp.val($(element).text()).select();
            document.execCommand("copy");
            $temp.remove();
        }
      </script>
      
      <!-- START OF RELEVANT PART -->
    <script async src="https://just-comments.com/w2.js"></script>
    <!-- END OF RELEVANT PART -->


</head>

<body>
    <!-- navbar-->
<header class="header">
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container"><a class="navbar-brand" href="http://localhost:4000"><img
          src="http://localhost:4000/img/logo-big.png" width="50" height="50" class="d-inline-block align-center"
          alt="logo"> <img src="http://localhost:4000/img/girish_logo.png" height="30" alt="girilogo"></a>
      <button type="button" data-toggle="collapse" data-target="#navbarcollapse" aria-controls="navbarSupportedContent"
        aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right"><span
          class="fa fa-bars" style="color: white"></span></button>
      <div id="navbarcollapse" class="collapse navbar-collapse">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a href="http://localhost:4000#home" class="nav-link  link-scroll">Home</a></li>
          <li class="nav-item"><a href="http://localhost:4000#about" class="nav-link link-scroll">About</a></li>
          <li class="nav-item"><a href="http://localhost:4000#skills" class="nav-link link-scroll">Skills</a>
          </li>
          <li class="nav-item"><a href="http://localhost:4000#services" class="nav-link link-scroll">Services</a>
          </li>
          <li class="nav-item"><a href="http://localhost:4000#references" class="nav-link link-scroll">My
              work</a></li>
          <li class="nav-item"><a href="http://localhost:4000#contact" class="nav-link link-scroll">Contact</a>
          </li>
          <li class="nav-item"><a href="http://localhost:4000/blog" class="nav-link link-scroll">Blog</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>
    
    <div style="background-color:Gray;">
        <div style="padding:0;min-height:95.05vh;display:flex;font-family: Poppins, sans-serif;margin-top: 5rem;"
            class="container">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <p class="post-title">
                    <h1><a href="/blog/SwDesignLesson8">Design Patterns For Beginners - with Java Examples</a></h1>
                </p>
                
                <span class="post-date"><span style="font-weight:600">October 15, 2019 Tuesday</span> by
                    <a style="font-weight:600" href="https://twitter.com/girishgodage_007" target="_blank">Girish Godage</a>
                </span>
                <div class="site-category"> 
                        <h5>SoftwareDesign</h5>
                </div>
                
                <hr>
                <div><img class="post-image" src="https://girishgodage.github.io/img/sw_design.png" alt="Design Patterns For Beginners - with Java Examples" height="250" /></div>
                <div class="post-content">
                    <br>
                    <p>In this guide, we give you an introduction to the world of design patterns.For each pattern, we understand 1) the pattern a2) the context in which it is applicable -  with a real-world example.</p>

<h2 id="you-will-learn">You will learn</h2>
<ul>
  <li>What are Design Patterns?</li>
  <li>Why do you use Design Patterns?</li>
  <li>What are the different types of Design Patterns?</li>
  <li>When do you use Design Patterns?</li>
  <li>How do you implement different Design Patterns in Java?</li>
  <li>What are the real world examples for Design Patterns?</li>
</ul>

<h3 id="what-are-design-patterns">What Are Design Patterns?</h3>

<p>We have been building object-oriented software for over 40 years now, starting with Smalltalk, which was the first object-oriented language.</p>

<p>The programming world has encountered a large number of problems, and a variety of solution have been proposed to tackle them.</p>

<p>An attempt was made by a group of four people, famously called the “Gang-Of-Four” or GoF, to come up with a set of common problems and solutions for them, in the given context.</p>

<blockquote>
  <p>This catalog of common problems and their solutions is labeled as GOF (Gang of Four) Design Patterns.</p>
</blockquote>

<h3 id="why-design-patterns">Why Design Patterns?</h3>

<p>The advantages of design patterns are:</p>
<ul>
  <li>To provide standard terminology that everybody understands</li>
  <li>Not to repeat the same mistakes over and over again</li>
</ul>

<h3 id="what-are-the-types-of-design-patterns">What Are The Types Of Design Patterns?</h3>

<p>The design patterns we talk about here, are from the perspective of an object-oriented world. There are mainly three different kinds of design patterns:</p>
<ul>
  <li>Creational Patterns</li>
  <li>Structural Patterns</li>
  <li>Behavioral Patterns</li>
</ul>

<h4 id="creational">Creational</h4>

<p>Creational patterns deal with the creation of objects.</p>

<h4 id="structural">Structural</h4>

<p>Structural patterns deal with the composition of objects.</p>

<p>It deals with questions such as:</p>
<ul>
  <li>What does a class contain?</li>
  <li>What are the relationships of a class with other classes? Is it inheritance or composition?</li>
</ul>

<h4 id="behavioral">Behavioral</h4>

<p>Behavioral patterns focus more on the behavior of objects, or more precisely, interactions between objects.</p>

<blockquote>
  <p>How does an object communicate with another object?</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-02.png" alt="image info" /></p>

<h3 id="exploring-creational-design-patterns">Exploring Creational Design Patterns</h3>

<p>We explore the following creational design patterns:</p>

<p><img src="/img/sw_design/8/Capture-109-03.png" alt="image info" /></p>

<h4 id="the-prototype-pattern">The Prototype Pattern</h4>

<p><img src="/img/sw_design/8/Capture-109-04.png" alt="image info" /></p>

<blockquote>
  <p>A Prototype represents a fully initialized instance, to be copied or cloned.</p>
</blockquote>

<p>Let’s take an example:</p>

<p>Let’s consider the design of a Chess game. Every game of Chess has the same initial setup - The King, Queen, Rook, Bishop, Knight and the Pawns all have their specific places. Let’s say we want to build software to model a Chess game.</p>

<p>Every time a new Chess game is played, we need to create the initial board layout.</p>

<p>Instead of repeating the creation of chess board each time</p>
<ul>
  <li>We can create an object that contains the initial setup</li>
  <li>Clone from it - each time a new Chess game is played.</li>
</ul>

<p>The object with the initial setup of the chess board is the prototype. And, we are using the prototype pattern.</p>

<p>Isn’t it simple?</p>

<p>In the Prototype pattern, you have a fully initialized instance - here, the initial board layout - that is readily available.</p>

<p>Whenever a new Chess game is started - for example, in any of the numerous online Chess portals - this initialized instance is merely copied, or cloned.</p>

<h4 id="the-builder-pattern">The Builder Pattern</h4>

<p>The Builder Pattern separates object construction from its representation. What does that mean?</p>

<p><img src="/img/sw_design/8/Capture-109-05.png" alt="image info" /></p>

<p>Assume that you go out for a multi-course dinner to a Restaurant. Such a dinner would have many options, such as Starters, Main course and Desserts. You would probably choose two or three out of the presented options. A particular client may want to have dinner with the first two options only, leaving out the Desserts option. Yet another would prefer the Main course and Desserts, skipping the Starters entirely.</p>

<p>Similar situations might arise in designing software. You may need to build an object using a subset of the options that are available - or, create the object in multiple ways. This is where the Builder pattern comes in handy.</p>

<p>To understand it further, let’s look at a small piece of code.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BuilderPattern</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Coffee</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="nf">Coffee</span><span class="o">(</span><span class="nc">Builder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">type</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">type</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">sugar</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">sugar</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">milk</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">milk</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">size</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">size</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">type</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">sugar</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">milk</span><span class="o">;</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">size</span><span class="o">;</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Builder</span> <span class="o">{</span>
            <span class="kd">private</span> <span class="nc">String</span> <span class="n">type</span><span class="o">;</span>
            <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">sugar</span><span class="o">;</span>
            <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">milk</span><span class="o">;</span>
            <span class="kd">private</span> <span class="nc">String</span> <span class="n">size</span><span class="o">;</span>

            <span class="kd">public</span> <span class="nf">Builder</span><span class="o">(</span><span class="nc">String</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">type</span> <span class="o">=</span> <span class="n">type</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="kd">public</span> <span class="nc">Builder</span> <span class="nf">sugar</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">sugar</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="kd">public</span> <span class="nc">Builder</span> <span class="nf">milk</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">milk</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="kd">public</span> <span class="nc">Builder</span> <span class="nf">size</span><span class="o">(</span><span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">size</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="kd">public</span> <span class="nc">Coffee</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">Coffee</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Coffee [type=%s, sugar=%s, milk=%s, size=%s]"</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">type</span><span class="o">,</span> <span class="n">sugar</span><span class="o">,</span> <span class="n">milk</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
        <span class="o">}</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Coffee</span> <span class="n">coffee</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BuilderPattern</span><span class="o">.</span><span class="na">Coffee</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="s">"Mocha"</span><span class="o">).</span><span class="na">milk</span><span class="o">(</span><span class="kc">true</span><span class="o">).</span><span class="na">sugar</span><span class="o">(</span><span class="kc">false</span><span class="o">).</span><span class="na">size</span><span class="o">(</span><span class="s">"Large"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">coffee</span><span class="o">);</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Let’s say you’re writing software for a machine that prepares coffee. The main ingredients of coffee are coffee, milk and sugar.</p>

<p>Depending from which part of the world you are from, you choose whether or not you have sugar and milk.</p>

<p>The Builder pattern steps in to provide these Coffee creation options for you.</p>

<p>Have a look at the code inside <code class="highlighter-rouge">main()</code>.</p>

<p>What we have inside the <code class="highlighter-rouge">Coffee</code> is a <code class="highlighter-rouge">Builder</code>, to which we pass the <em>mandatory</em> <code class="highlighter-rouge">type</code> of the coffee.  Chained to that call, we make other calls adding in our preferences of the other ingredients.</p>

<p>Someone else who wants a different coffee can easily build it. This leads to a huge amount of flexibility in building objects.</p>

<blockquote>
  <p>Other approaches to solving this problem, such as the use of setters, have many inherent problems. These solutions lead to code that is difficult to read, and also behave erratically in multithreaded programs. The Builder pattern solves all those problems.</p>
</blockquote>

<p>The advantages of using the Builder pattern are:</p>
<ul>
  <li>It simplifies object creation</li>
  <li>Leads to more readable code</li>
  <li>Does not allow the values to be modified</li>
</ul>

<h4 id="the-singleton-pattern">The Singleton Pattern</h4>

<p>The Singleton pattern is the most famous among all the design patterns. What this pattern does is very clear from its name - allow only one instance of a class per JVM at any point in time.</p>

<p>A good real-world comparison would probably be the President of a Nation.</p>

<p><img src="/img/sw_design/8/Capture-109-06.png" alt="image info" /></p>

<p>However, there is a disclaimer here - there can only be one instance of that class, <strong>per JVM</strong>. If you have a Java application that runs as part of a cluster of application servers, each server runs a separate JVM instance. Therefore, you are allowed to have one instance of the Singleton created on each application server, at any given point of time.</p>

<p>There are a few things to remember whenever you create a Singleton class.</p>

<ul>
  <li>The constructor needs to be <code class="highlighter-rouge">private</code>, to prevent the possibility of other objects creating instances of your class.</li>
  <li>In Java, build a Singleton using a <code class="highlighter-rouge">Enum</code>.</li>
  <li>JEE 7 has a built-in annotation named <code class="highlighter-rouge">@Singleton</code>, along with other related annotations.</li>
  <li>The main disadvantage of using the Singleton pattern is that the resulting code is difficult to unit test. Make a clear decision as to where you absolutely need to use a Singleton, and where you don’t.</li>
  <li>In frameworks such as Spring, the objects that are managed are called beans, and beans are Singletons by default. What Spring does well is to ensure all this is in the background.</li>
</ul>

<h4 id="the-factory-method-pattern">The Factory Method Pattern</h4>

<p><img src="/img/sw_design/8/Capture-109-07.png" alt="image info" /></p>

<p>The intent of the Factory Method pattern is to create a family of object types. Let’s look at a code example.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">FactoryPattern</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PersonFactory</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Person</span> <span class="nf">getPerson</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="nc">String</span> <span class="n">gender</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">gender</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"M"</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="k">new</span> <span class="nf">Male</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">gender</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"F"</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="k">new</span> <span class="nf">Female</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
                <span class="o">}</span> <span class="c1">// So on</span>
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
        <span class="nc">Person</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

        <span class="kd">abstract</span> <span class="nc">String</span> <span class="nf">getSalutation</span><span class="o">();</span>

        <span class="nc">String</span> <span class="nf">getNameAndSalutation</span><span class="o">()</span> <span class="o">{</span>
            
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Male</span> <span class="kd">extends</span> <span class="nc">Person</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="nf">Male</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="nc">String</span> <span class="nf">getSalutation</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">"Mr"</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Female</span> <span class="kd">extends</span> <span class="nc">Person</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="nf">Female</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="nc">String</span> <span class="nf">getSalutation</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">"Miss/Mrs"</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Person</span> <span class="n">male</span> <span class="o">=</span> <span class="nc">PersonFactory</span><span class="o">.</span><span class="na">getPerson</span><span class="o">(</span><span class="s">"Robinhood"</span><span class="o">,</span> <span class="s">"M"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">male</span><span class="o">.</span><span class="na">getNameAndSalutation</span><span class="o">);</span>

        <span class="nc">Person</span> <span class="n">female</span> <span class="o">=</span> <span class="nc">PersonFactory</span><span class="o">.</span><span class="na">getPerson</span><span class="o">(</span><span class="s">"Mary"</span><span class="o">,</span> <span class="s">"F"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">female</span><span class="o">.</span><span class="na">getNameAndSalutation</span><span class="o">);</span>
    <span class="o">}</span>

</code></pre></div></div>

<p>This code implements a <code class="highlighter-rouge">PersonFactory</code>. This class has a static method named <code class="highlighter-rouge">getPerson()</code> that accepts a person’s name and gender as parameters. Depending on the gender <code class="highlighter-rouge">String</code> passed in, it either returns a <code class="highlighter-rouge">Male</code> or a <code class="highlighter-rouge">Female</code> object.</p>

<p>If somebody wants to create a male person, they invoke the <code class="highlighter-rouge">getPerson()</code> method on the <code class="highlighter-rouge">PersonFactory</code> with a gender argument of <code class="highlighter-rouge">"M"</code>. Similarly, you can create a female person by invoking the <code class="highlighter-rouge">getPerson()</code> method on the <code class="highlighter-rouge">PersonFactory</code> with a gender argument of <code class="highlighter-rouge">"F"</code>.</p>

<p>We are passing in an  identifier of the type of object we need, at the time of creation, while still referring to the generic type, <code class="highlighter-rouge">Person</code>.</p>

<p>The <code class="highlighter-rouge">Male</code> and <code class="highlighter-rouge">Female</code> classes are hidden behind the <code class="highlighter-rouge">PersonFactory</code> implementation.</p>

<p>The advantage of using the Abstract Method pattern is that you can add additional types to the factory, without much change in the other classes using this class. In our example, you can add more types of gender, without affecting the existing code that deals with other genders, which all use <code class="highlighter-rouge">Person</code>.</p>

<p>What about the complexity involved in creating an object?</p>

<p>It greatly simplifies the task of object creation. The <code class="highlighter-rouge">PersonFactory</code> makes the decision of what object to create, and delivers it to us.</p>

<h3 id="structural-design-patterns">Structural Design Patterns</h3>

<p>Let us now have a look at the structural design patterns we want to explore.</p>

<h4 id="the-proxy-pattern">The Proxy Pattern</h4>

<p><img src="/img/sw_design/8/Capture-109-08.png" alt="image info" /></p>

<blockquote>
  <p>A Proxy is an object that represents another object.</p>
</blockquote>

<p>Let’s look at a real-world example.</p>

<p>Your debit card is a proxy for your bank account.  Whenever you make a transaction using a debit card, the corresponding money is deducted from the bank account.</p>

<p>The debit card is a proxy for your bank account, which is the actual object.</p>

<p>Similar to that, in programming, you might have to program interactions with remote objects. In such situations, you create a proxy object that takes care of all external communications. You would communicate with the proxy as if it were residing on your local machine.</p>

<p>Good examples are the EJB Home and Remote interfaces.</p>

<p>A proxy hides the complexity involved in communicating with the real object.</p>

<h4 id="the-decorator-pattern">The Decorator Pattern</h4>

<blockquote>
  <p>The Decorator pattern allows us to add responsibilities to objects, dynamically.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-09.png" alt="image info" /></p>

<p>In object-oriented programming, we typically use a lot of inheritance.</p>

<h5 id="example-1">Example 1</h5>

<p>Let’s say a particular Pizza outlet has ten types of pizza. Our implementation has ten classes for these Pizza types.</p>

<p>Now there is a requirement to make these pizzas available with three types of toppings. If we would want to create individual classes for each pizza and topping combination, we have a total of 30 classes to manage.</p>

<p>Instead of doing this, can we make the pizza-topping relationship dynamic? Can we add a topping on top of an existing pizza?</p>

<p>We need to use a topping as a decorator on top of any pizza.</p>

<h5 id="example-2">Example 2</h5>

<p>Another example would be adding a discount on a pizza order.</p>

<p>Let’s say, you have an order, and based on some criteria, you want to offer a discount to the customer. There might be a variety of discounts which might be applicable at different times. If you add a different type of a discount to every kind of order, then in a static relationship, you need to maintain hundreds of classes.</p>

<p>Treating a discount as a decorator on order makes the relationship dynamic.</p>

<h5 id="example-3">Example 3</h5>

<p>A perfect example where the Decorator pattern is implemented in Java is the Java I/O packages. This is reflected in the way we create an input stream in an I/O program:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="k">new</span> <span class="nf">LineNumberInputStream</span><span class="o">(</span><span class="k">new</span> <span class="nc">BufferedInputStream</span><span class="o">(</span><span class="k">new</span> <span class="nc">FileInputStream</span><span class="o">()));</span>

</code></pre></div></div>

<p>You have a <code class="highlighter-rouge">FileInputStream</code>. If you want to make it buffered, then add a decorator to it in the form of a <code class="highlighter-rouge">BufferedInputStream</code>. If you want the buffered <code class="highlighter-rouge">FileInputStream</code> to have line numbers also, then add a decorator for a <code class="highlighter-rouge">LineNumberInputStream</code>.</p>

<h5 id="summary">Summary</h5>

<p>Decorator Pattern enables you to add behavior to existing objects, at run time. This allows the user of the interface to decide, how he/she wants to create the objects.</p>

<p>The drawback of this approach is the complexity involved in creating objects. The user needs to understand a lot of classes and their relationships before being able to use the power of the Decorator.</p>

<h4 id="the-facade-pattern">The Facade Pattern</h4>

<p><img src="/img/sw_design/8/Capture-109-10.png" alt="image info" /></p>

<blockquote>
  <p>A Facade is a single class that represents an entire subsystem.</p>
</blockquote>

<p>Let’s take the example of an event manager. An event manager is a go-to person when you want to organize an event. He/She would handle several aspects of an event such as the decorations, the food, sending out invitations to guests, the music arrangements, and similar things.  The event manager acts as the facade of the event organization subsystem.</p>

<p>Consider the case of a distributed system. You typically have the need for multiple calls, across layers.</p>

<p>Take for instance, a system that offers the service for online book orders. Whenever an order comes in, several things need to be taken care of, such as checking for the stock, reserving the order, accepting the payment, updating the stock, and generating the invoice.</p>

<p>We can create a single facade, such as the order interface, which would manage all incoming orders and provide an interface to the customer.</p>

<p>The advantage of using the Facade pattern is that it reduces the number of network calls, as well as reduces coupling among classes.</p>

<p>It succeeds in establishing a transaction boundary between communicating objects. Facades, like services, are good hubs to implement transactions.</p>

<p>As long as the interface of the facade remains the same, the implementation details of the subsystem can change.</p>

<h4 id="the-adapter-pattern">The Adapter Pattern</h4>

<blockquote>
  <p>An Adapter is used to match interfaces of different classes.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-11.png" alt="image info" /></p>

<p>Let’s take the real world example of power adapters.</p>

<p>Problem : If you buy a mobile phone in India, it comes with a charger that only works with power sockets used in India. If you take the same charger to the US for example, it will not work, as it will not fit into sockets there.</p>

<p>Solution : The solution is to use a travel adapter, to use with your charger when you travel. You can plug in your charger into the travel adapter, and the travel adapter is used to connect to the socket in a particular country.</p>

<p>Similarly, when you try to talk to a system that uses a different message format or a language, you need an adapter to translate messages.</p>

<p>An interesting example is a communication between a Java program and a web service. Before sending out the data to the service, we need to convert the object into XML or JSON format. We are implementing the Adapter pattern!</p>

<h4 id="the-flyweight-pattern">The Flyweight Pattern</h4>

<p>Let’s consider a few scenarios</p>
<ul>
  <li>Creation of an object takes a lot of time and involves multiple instances</li>
  <li>Each instance of an object occupies a lot of memory</li>
  <li>Some objects might be used several times across the same application with the same values</li>
</ul>

<p>In these scenarios, you might not want to create a new instance every time it is needed.</p>

<p>How about caching an instance and reusing it when needed?</p>

<blockquote>
  <p>A Flyweight represents creating a fine-grained instance, that is being used for efficient sharing.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-12.png" alt="image info" /></p>

<h5 id="example-1-1">Example 1</h5>

<p>A really good real work example is the public switched telephone network (PSTN).</p>

<p>In the PSTN, there are always a limited number of lines, and for simplicity, let’s assume this number is 10. However, there are thousands of customers that use these lines. Since all 1000 customers would not make calls at about the same time, it is possible to efficiently switch calls coming in, among the existing 10 lines.</p>

<h5 id="example-2-1">Example 2</h5>

<p>In the software world, a good example of a Flyweight pattern is JDBC connections.</p>

<p>A connection pool is a set of connections to the database. The application may be firing a lot of queries, but we don’t create a new connection whenever a new query comes in. As soon as a query comes in, we match it to an available connection, and the query gets fired. Once query execution is done, the connection is released back into the pool.</p>

<p>Using such a pool allows us to avoid the cost involved in creating and closing a connection.</p>

<h3 id="behavioral-design-patterns">Behavioral Design Patterns</h3>

<p>Let us now have a look at the behavioral design patterns.</p>

<h4 id="the-chain-of-responsibility-pattern">The Chain Of Responsibility Pattern</h4>

<p><img src="/img/sw_design/8/Capture-109-13.png" alt="image info" /></p>

<blockquote>
  <p>The Chain Of Responsibility Pattern represents a way of passing a request between a chain of objects.</p>
</blockquote>

<h5 id="example-1-2">Example 1</h5>

<p>The best example of this pattern can be seen in the exception handling mechanism of most programming languages.</p>

<p>Suppose you have a <code class="highlighter-rouge">method1()</code> calling <code class="highlighter-rouge">method2()</code>, and <code class="highlighter-rouge">method2()</code> in turn calls <code class="highlighter-rouge">method3()</code>. Assume that <code class="highlighter-rouge">method3()</code> throws an exception.</p>

<p>If <code class="highlighter-rouge">method3()</code> has no exception handling, then the exception is passed on to <code class="highlighter-rouge">method2()</code> to handle it. If again <code class="highlighter-rouge">method2()</code> has no exception handling inside it, then the exception is passed on to <code class="highlighter-rouge">method1()</code>. If even <code class="highlighter-rouge">method1()</code> cannot handle it, it gets thrown out of <code class="highlighter-rouge">method1()</code> as well.</p>

<h5 id="example-2-2">Example 2</h5>

<p>Consider a real-world example of a loan approval process.</p>

<p>A bank clerk has permissions to approve loans within a certain amount. If the amount goes above that, then it goes to the supervisor. The supervisor has a similar, albeit larger loan approval limit set for him. If the loan amount exceeds that limit, then it goes to his supervisor, and so on.</p>

<h5 id="summary-1">Summary</h5>

<p>With Chain Of Responsibility, we have a chain of objects already ready, that wait to process requests. When a new request enters the system, it goes to the first object in the chain to attempt processing. Depending on the processing condition, the request travels up the chain and gets fully processed at some level, or maybe not processed at all.</p>

<h4 id="the-iterator-pattern">The Iterator Pattern</h4>

<p><img src="/img/sw_design/8/Capture-109-14.png" alt="image info" /></p>

<p>The Iterator pattern is one of the most simple design patterns. You have a set of elements arranged in a collection, and you want to access those elements sequentially. A good example of an Iterator is a TV remote, which has the “next” and “previous” buttons to surf TV channels. Pressing the “next” button takes me one channel in the forward direction, and pressing the “previous” button takes me one channel in the backward direction.</p>

<p>In the programming works, examples of the <code class="highlighter-rouge">Iterator</code> class and the enhanced <code class="highlighter-rouge">for</code> loop in Java are examples of the Iterator pattern.</p>

<h4 id="the-state-pattern">The State Pattern</h4>

<blockquote>
  <p>The State Pattern is used to alter an object’s behavior when its state changes.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-15.png" alt="image info" /></p>

<p>Take a look at this Java example:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">StatePattern</span> <span class="o">{</span>
        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">FanWallControl</span> <span class="o">{</span>
            <span class="kd">private</span> <span class="nc">SpeedLevel</span> <span class="n">current</span><span class="o">;</span>
    
            <span class="kd">public</span> <span class="nf">FanWallControl</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Off</span><span class="o">();</span>
            <span class="o">}</span>

            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set_state</span><span class="o">(</span><span class="nc">SpeedLevel</span> <span class="n">state</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">state</span><span class="o">;</span>
            <span class="o">}</span>
    
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">rotate</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">current</span><span class="o">.</span><span class="na">rotate</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Fan Wall Control [current = %s]"</span><span class="o">,</span> <span class="n">current</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">interface</span> <span class="nc">speedLevel</span> <span class="o">{</span>
            <span class="kt">void</span> <span class="nf">rotate</span><span class="o">(</span><span class="nc">FanWallControl</span> <span class="n">fanWallControl</span><span class="o">);</span>
        <span class="o">}</span>
    
        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Off</span> <span class="kd">implements</span> <span class="nc">SpeedLevel</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">rotate</span><span class="o">(</span><span class="nc">FanWallControl</span> <span class="n">fanWallControl</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">fanWallControl</span><span class="o">.</span><span class="na">set_state</span><span class="o">(</span><span class="k">new</span> <span class="nc">SpeedLevel1</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
    
        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SpeedLevel1</span> <span class="kd">implements</span> <span class="nc">SpeedLevel</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">rotate</span><span class="o">(</span><span class="nc">FanWallControl</span> <span class="n">fanWallControl</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">fanWallControl</span><span class="o">.</span><span class="na">set_state</span><span class="o">(</span><span class="k">new</span> <span class="nc">SpeedLevel2</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
    
        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SpeedLevel2</span> <span class="kd">implements</span> <span class="nc">SpeedLevel</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">rotate</span><span class="o">(</span><span class="nc">FanWallControl</span> <span class="n">fanWallControl</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">fanWallControl</span><span class="o">.</span><span class="na">set_state</span><span class="o">(</span><span class="k">new</span> <span class="nc">SpeedLevel3</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
    
        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SpeedLevel3</span> <span class="kd">implements</span> <span class="nc">SpeedLevel</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">rotate</span><span class="o">(</span><span class="nc">FanWallControl</span> <span class="n">fanWallControl</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">fanWallControl</span><span class="o">.</span><span class="na">set_state</span><span class="o">(</span><span class="k">new</span> <span class="nc">Off</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<p>Let’s take the example of a fan wall control. The fan wall control controls the speed with a fan rotates. It has speed levels ranging from 0 to 5. When it is at level 0, the fan does not rotate, and it rotates the fastest at level 5.</p>

<p>When you rotate the knob of the fan control, the level changes, and this causes the speed of the fan to change as well. This is a classic case of a change in state (level) causing a change in behavior (speed).</p>

<p>A <code class="highlighter-rouge">FanwallControl</code> object is composed of a <code class="highlighter-rouge">SpeedLevel</code> object. <code class="highlighter-rouge">SpeedLevel</code> is an interface that has four different implementations. Initially, the level is at <code class="highlighter-rouge">Off</code>, and when you click rotate at that time, the new speed is at <code class="highlighter-rouge">SpeedLevel1</code>. The happens successively, and if you rotate at <code class="highlighter-rouge">SpeedLevel3</code>, the level returns to <code class="highlighter-rouge">Off</code>.</p>

<p>In case you need to define an additional speed level, just add in a new class that implements the <code class="highlighter-rouge">SpeedLevel</code> interface, and implement its rotate method.</p>

<p>This is an excellent example that highlights the advantages of an extensible class.</p>

<h4 id="the-strategy-pattern">The Strategy Pattern</h4>

<p><img src="/img/sw_design/8/Capture-109-16.png" alt="image info" /></p>

<p>The strategy has the task of encapsulating an algorithm inside a class. Let’s look at a Java code example:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">StrategyPattern</span> <span class="o">{</span>
        <span class="kd">interface</span> <span class="nc">Sortable</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">sort</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">numbers</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">BubbleSort</span> <span class="kd">implements</span> <span class="nc">Sortable</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">sort</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//sort using bubble sort algorithm</span>

                <span class="k">return</span> <span class="n">numbers</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">QuickSort</span> <span class="kd">implements</span> <span class="nc">Sortable</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">sort</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span><span class="n">d</span> 
                <span class="c1">//sort using quicksort algorithm</span>

                <span class="k">return</span> <span class="n">numbers</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ComplexClass</span> <span class="o">{</span>
            <span class="kd">private</span> <span class="nc">Sortable</span> <span class="n">sorter</span><span class="o">;</span>

            <span class="nc">ComplexClass</span><span class="o">(</span><span class="nc">Sortable</span> <span class="n">sorter</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">sorter</span> <span class="o">=</span> <span class="n">sorter</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="kt">void</span> <span class="nf">doAComplexThing</span><span class="o">()</span> <span class="o">{</span>
                <span class="kt">int</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

                <span class="c1">//logic...</span>

                <span class="n">sorter</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">values</span><span class="o">);</span>

                <span class="c1">//logic...</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">ComplexClass</span> <span class="n">complexClassInstance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ComplexClass</span><span class="o">(</span><span class="k">new</span> <span class="nc">BubbleSort</span><span class="o">());</span>
            <span class="n">complexClassInstance</span><span class="o">.</span><span class="na">doAComplexThing</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<p>The class <code class="highlighter-rouge">ComplexClass</code> intends to perform a lot of complex logic within it. One part of that logic is to sort a set of values. One direct way would be to implement the entire sorting logic within <code class="highlighter-rouge">ComplexClass</code>. This would make it very inflexible, since if you wanted to change the sorting logic tomorrow, that entire code needs to change.</p>

<p>When we use the Strategy pattern, we separate the algorithm of how the sorting is done, from <code class="highlighter-rouge">ComplexClass</code>.</p>

<p>We define an interface named <code class="highlighter-rouge">Sortable</code>, which has a method named <code class="highlighter-rouge">sort()</code>. Any actual sort algorithm is an implementation of <code class="highlighter-rouge">Sortable</code>, and needs to override <code class="highlighter-rouge">sort()</code> method.</p>

<p>Now, <code class="highlighter-rouge">ComplexClass</code> is given a particular <code class="highlighter-rouge">Sortable</code> implementation as a constructor argument. <code class="highlighter-rouge">ComplexAlgorithm</code> does not care what exact sorting algorithm is being used; it is happy that that object implements the <code class="highlighter-rouge">sort()</code> method of <code class="highlighter-rouge">Sortable</code>.</p>

<p>A lot of flexibility results due to the use of the Strategy pattern. You can dynamically change the strategy, and pass in the right one according to the context.</p>

<h4 id="the-observer-pattern">The Observer Pattern</h4>

<blockquote>
  <p>The Observer pattern is a way of notifying a change, to a number of classes.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-17.png" alt="image info" /></p>

<p>If you are a fan of cricket, you may want to know whenever Sachin Tendulkar scores a century, so that you can celebrate.</p>

<p>All such similar people would register themselves to the event of Sachin scoring a century. Each of these people is now an Observer for that event. Whenever Sachin does score a century, a centralized program will notify each observer.</p>

<p>Another example is that of online bidding. A group of bidders at an auction register themselves to receive notifications when a higher bid is placed. As soon as a bid higher than the current one is placed, all the registered bidders get to know about it.</p>

<p>There are two main parts to implementing the Observer design pattern.</p>
<ul>
  <li>Registration - where the interested objects register themselves with the centralized program to receive notifications</li>
  <li>Notification - where the registered observers receive notifications from the centralized program</li>
</ul>

<p>Here is a simple implementation of the Observer pattern:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Observer</span> <span class="nc">Pattern</span> <span class="o">{</span>
        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SachinCenturyNotifier</span> <span class="o">{</span>
            <span class="nc">List</span><span class="o">&lt;</span><span class="nc">SachinFan</span><span class="o">&gt;</span> <span class="n">fans</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">SachinFan</span><span class="o">&gt;();</span>
            
            <span class="kt">void</span> <span class="nf">register</span><span class="o">(</span><span class="nc">SachinFan</span> <span class="n">fan</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">fans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">fan</span><span class="o">);</span>
            <span class="o">}</span> 

            <span class="kt">void</span> <span class="nf">sachinScoredACentury</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">for</span><span class="o">(</span><span class="nc">SachinFan</span> <span class="nl">fan:</span> <span class="n">fans</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">fan</span><span class="o">.</span><span class="na">announce</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SachinFan</span> <span class="o">{</span>
            <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
            
            <span class="nc">SachinFan</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="kt">void</span> <span class="nf">announce</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">" notified"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">SachinCenturyNotifier</span> <span class="n">notifier</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SachinCenturyNotifier</span><span class="o">();</span>
            <span class="n">notifier</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="nc">SachinFan</span><span class="o">(</span><span class="s">"Ranga"</span><span class="o">));</span>
            <span class="n">notifier</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="nc">SachinFan</span><span class="o">(</span><span class="s">"Ramya"</span><span class="o">));</span>
            <span class="n">notifier</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="nc">SachinFan</span><span class="o">(</span><span class="s">"Veena"</span><span class="o">));</span>

            <span class="n">notifier</span><span class="o">.</span><span class="na">sachinScoredACentury</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<p>We have created an instance of <code class="highlighter-rouge">SachinCenturyNotifier</code>, and registered three fans with it.</p>

<p>Whenever Sachin scores a century, the call <code class="highlighter-rouge">notifier.sachinScoredACentury()</code> would be made, and all three fans would be notified.</p>

<h4 id="the-visitor-pattern">The Visitor Pattern</h4>

<blockquote>
  <p>The Visitor pattern allows us to add a new operation to a class, without changing the class.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-18.png" alt="image info" /></p>

<p>There are a lot of scenarios when designing frameworks, where we don’t want other people to modify the code in the framework. We want others to extend the functionality without touching the framework code. They are allowed to add new operations, but not to change the existing operations.</p>

<p>The Visitor pattern allows you to do this.</p>

<p>A good real-world example of the Visitor pattern is the operation of a taxi company.</p>

<p>As soon as a person calls a taxi company, and a cab is dispatched, the company accepts a visitor. Once the visitor, or customer enters the taxi, he is no longer in control of where he is going. The cab driver is now in control.</p>

<p>If we look at it as object-oriented code, the driver class is in control of the customer class. The driver class can add new operations on top of the customer/visitor.</p>

<h4 id="the-template-method-pattern">The Template Method Pattern</h4>

<blockquote>
  <p>The Template Method pattern is used to defer the exact steps of an algorithm, to a subclass.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-19.png" alt="image info" /></p>

<p>A good real-world example of this pattern is how we go about creating a house plan. Any good house plan consists of a floor plan, the foundation, plumbing, framing and wiring. Such a plan is almost identical for each house.</p>

<p>If you were to model this in software, you could create a template class with this standard behavior defined. A subclass could extend this and give actual implementations. Such details could include the wooden flooring type, the wall paint colors, and any added wings as required.</p>

<p>A good example of the Template Method pattern is within the Spring framework, in the form of <code class="highlighter-rouge">AbstractController</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ModelAndView</span> <span class="nf">handleRequest</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">checkRequest</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
        <span class="n">prepareResponse</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>

        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">synchronizeOnSession</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">HttpSession</span> <span class="n">session</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getSession</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">session</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">ObjectMutex</span> <span class="n">mutex</span> <span class="o">=</span> <span class="nc">WebUtils</span><span class="o">.</span><span class="na">getSessionMutex</span><span class="o">(</span><span class="n">session</span><span class="o">);</span>
    
                <span class="kd">synchronized</span><span class="o">(</span><span class="n">mutex</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="nf">handleRequestInternal</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="nf">handleRequestInternal</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>

</code></pre></div></div>

<p><code class="highlighter-rouge">handleRequest()</code> merely takes care of the basic things. However, it leaves the lions to share for the implementation to the method <code class="highlighter-rouge">handleRequestInternal()</code>. This method is defined by subclasses, where more specific logic can be implemented.</p>

<p>The Template Method pattern is all about doing the high-level steps, and leaving the low-level details to the subclasses. The subclasses can override the low steps and provide their own implementation.</p>

<h4 id="the-command-pattern">The Command Pattern</h4>

<blockquote>
  <p>The Command pattern encapsulates a command request as an object.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-20.png" alt="image info" /></p>

<p>Let’s take a real-world example.</p>

<p>Consider the scenario when a customer goes to a restaurant and wants to place an order for a meal. The writer merely writes the order he gets on a piece of paper, and passes it on to the chef. The chef executes the order, and then prepares the meal. He passes the piece of paper to the manager.</p>

<p>The verbal order from the customer has now become a paper object. This piece of paper is the command object. The command object contains all the details needed to execute the request.</p>

<p>Similarly in object-oriented programming, we can encapsulate all the details of a request into an object, and pass that object to execute it.</p>

<p>In web applications, when a user types in the details on a form, these details are captured in a single request object, which is then passed across.</p>

<p>The interface <code class="highlighter-rouge">java.lang.Runnable</code> is also a good example of how this pattern is implemented. We create threads in Java by extending the <code class="highlighter-rouge">Runnable</code> interface, which has all the logic for execution in its <code class="highlighter-rouge">start()</code> method. When we want to create and start a thread, we pass this class to the <code class="highlighter-rouge">start()</code> method.</p>

<h4 id="the-memento-method">The Memento Method</h4>

<blockquote>
  <p>The Memento pattern captures and later restores an object’s internal state.</p>
</blockquote>

<p><img src="/img/sw_design/8/Capture-109-21.png" alt="image info" /></p>

<p>A lot of games that we play offer the option of performing an intermediate save. At a certain point in the game, you can save it and later come back to it.</p>

<p>To implement this, we need to save the internal states of the game objects, and restore them at a certain point in time.</p>

<p>This save-revert functionality can be implemented by using serialization in a language such as Java.</p>

<p>The memento pattern is very useful for implementing undo/redo operations.</p>

<p>For example, if you are working on a text document in a word processor. If at a certain point, you decide to undo changes, you can see each undo until you reach a point where you are satisfied. You have now reverted to an earlier saved state of the document.</p>

<h4 id="the-mediator-pattern">The Mediator Pattern</h4>

<p>The Mediator pattern is used to define simplified communication between classes.</p>

<p><img src="/img/sw_design/8/Capture-109-22.png" alt="image info" /></p>

<p>Take the example of an Air Traffic Controller (ATC). Let’s say that at any point of time in India, we have about 500 flights in the air. We need to decide the routes that each of these flights needs to take. This also includes deciding the times at which each of these flights takes off and lands. It will be a highly complex situation if each of these 500 flights needs to talk with each other and arrive at an acceptable schedule of routes.</p>

<p>That’s why we have the concept of an ATC. The flights communicate with the ATC, and having assimilated the information from all the flights, the ATC makes the decisions and communicates them back the flights.</p>

<p>In the software world, a good example of the Mediator pattern is the ESB (Enterprise Service Bus). In a distributed system, instead of letting the applications talk to each other, an application drops in a message to the ESB. The ESB routes the request to the application that needs to handle the request. It acts as the Mediator.</p>

<h3 id="summary-2">Summary</h3>

<p>In this article, we had a quick look over a variety of design patterns.</p>

<p>A design pattern is an approach to solve a problem in a given context. We focused on understanding the context in which a particular pattern may be applicable with real-world examples.</p>

<hr />

<h3 id="software-design">Software Design</h3>

<p>This is the article in a series of articles on Software Design:</p>

<ul>
  <li><a href="/blog/SwDesignLesson7" target="_blank">1 - How do you keep your design simple?</a></li>
  <li><a href="/blog/SwDesignLesson8" target="_blank">2 - Design Patterns For Beginners - with Java Examples</a></li>
  <li><a href="/blog/SwDesignLesson9" target="_blank">3 - What is Abstraction?</a></li>
  <li><a href="/blog/SwDesignLesson10" target="_blank">4 - Encapsulation - with examples</a></li>
  <li><a href="/blog/SwDesignLesson11" target="_blank">5 - Coupling - with examples</a></li>
  <li><a href="/blog/SwDesignLesson12" target="_blank">6 - Cohesion - with examples</a></li>
  <li><a href="/blog/SwDesignLesson13" target="_blank">7 - Introduction to Evolutionary Design</a></li>
</ul>

<!--Section: Lesson UI-->
<section class="text-center">
    <hr />
   
    <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-6">
            <a target="_blank" href="https://girishgodage.github.io/blog/SwDesignLesson7" class="btn  btn-sm" id="round-button">
                <i class="fas fa-arrow-left mr-2"></i>Previous Lesson
            </a>
        </div>
     
        <div class="col-lg-4 col-md-6 col-sm-6">
            <a target="_blank" href="https://girishgodage.github.io/blog/SwDesignLesson9" class="btn btn-sm" id="round-button">Next Lesson
                <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>       
    </div>

</section>


                </div>

                <div id="disqus_thread"></div>
                <script>
                
                /**
                *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                /*
                var disqus_config = function () {
                this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };
                */
                (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://girishgodage-github-io.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



            </div>
        </div>
    </div>
    <!-- Footer-->

<footer class="main-footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 text-center text-lg-left">
                <p class="social">
                    <a href="https://www.facebook.com/girish.godage.5" class="external facebook wow fadeInUp">
                        <i class="fa fa-facebook"></i></a>
                    <a href="https://instagram.com/girishgodage_007" data-wow-delay="0.2s" class="external instagram wow fadeInUp">
                        <i class="fa fa-instagram"></i></a>
                    <a href="https://youtube.com/girishgodage" data-wow-delay="0.4s" class="external youtube wow fadeInUp">
                        <i class="fa fa-youtube-play"></i></a>
                    <a href="https://twitter.com/GGodage" data-wow-delay="0.4s" class="external twitter wow fadeInUp">
                            <i class="fa fa-twitter"></i></a>
                    <a href="https://github.com/girishgodage" data-wow-delay="0.4s" class="external github wow fadeInUp">
                                <i class="fa fa-github"></i></a>    
                    <a href="mailto:girishgodage@gmail.com?subject=Hello%20Girish" data-wow-delay="0.6s" class="email wow fadeInUp">
                        <i class="fa fa-envelope"></i></a></p>
            </div>
            <div class="col-md-6 text-center text-lg-right mt-4 mt-lg-0">
                <p> <b>©</b>2019 Girish Godage </p>
                <p class="text-center, text-shadow"> Hosted On <a href="https://pages.github.com/">GitHub Pages</a></p>
            </div>
        </div>
    </div>
</footer>
    <!-- Typed.js DONT TOUCH THIS! -->
    <div id="typed-strings">
    </div>

        <!-- JavaScript files-->
    <script src="http://localhost:4000/sitejs/jquery/jquery.min.js"></script>
    <script src="http://localhost:4000/sitejs/popper.js/umd/popper.min.js"> </script>
    <script src="http://localhost:4000/sitejs/bootstrap/js/bootstrap.min.js"></script>
    <script src="http://localhost:4000/sitejs/jquery.cookie/jquery.cookie.js"> </script>
    <script src="http://localhost:4000/sitejs/owl.carousel/owl.carousel.min.js"></script>
    <script src="http://localhost:4000/sitejs/waypoints/lib/jquery.waypoints.min.js"></script>
    <script src="http://localhost:4000/sitejs/jquery.counterup/jquery.counterup.js"></script>
    <script src="http://localhost:4000/js/front.js"></script>
    <script src="http://localhost:4000/js/comment.js"></script>
       <!-- Script pointing to search-script.js -->
    <script src="http://localhost:4000/js/search-script.js" type="text/javascript"></script>
   
    <!-- Configuration -->
    <script>
         SimpleJekyllSearch({
         searchInput: document.getElementById('search-input'),
         resultsContainer: document.getElementById('results-container'),
         json: '/search.json'
         })
         </script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.2.0/firebase.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.2.0/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyC36FUDDdOTidZJ8nzS5vfE7KVyayenKPE",
    authDomain: "githubcontactlist.firebaseapp.com",
    databaseURL: "https://githubcontactlist.firebaseio.com",
    projectId: "githubcontactlist",
    storageBucket: "githubcontactlist.appspot.com",
    messagingSenderId: "899685398702",
    appId: "1:899685398702:web:0c23c56d2d6d40df37553f",
    measurementId: "G-YWBRCYJYFW"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
<script>
   $(function() {
      
    //make a variable to keep track of data coming from firebase
    var data = [];

    // Reference messages collection
      var messagesRef = firebase.database().ref('contactformmessages');  


    //listen to data updates from firebase
    messagesRef.on("value", function(snapshot) {
        console.log(snapshot.val());
        //when the data updates at firebase, put it in the data variable
        data = snapshot.val();
    })
    //Entire Contact Form (handler)
    $('#contactForm').submit(function(e) {
      e.preventDefault();

        var $form = $(this);
        console.log("Submit to Firebase");

        //disable submit button
        $form.find("#sendForm").prop('disabled', true);

        //get values to send to Firebase
        var name = $('#name').val();
        console.log(name);
		
		var surname = $('#surname').val();
        console.log(surname);
		
		var email = $('#email').val();
        console.log(email);	
		
		var phone = $('#phone').val();
        console.log(phone);

        var message = $('#message').val();
        console.log(message);

       
        //take the values from the form, and put them in an object
        var newContact = {
         "name": name,
			"surname": surname,
			"email": email,
			"phone": phone,
         "message": message
        }
        //put new object in data array
        data.push(newContact);
        console.log(data);

        //send the new data to Firebase
        messagesRef.set(data, function(err) {
            if (err) {
                alert("Data no go");
            }else{
            $("#form-wrapper").slideToggle();
            $('#form-success-message').slideToggle();
			}
        });

        return false;
    })
   
    
})
</script>

<script>

    function disableScrolling() {
        let x = window.scrollX;
        let y = window.scrollY;
        window.onscroll = function () { window.scrollTo(x, y); };
    }

    function enableScrolling() {
        window.onscroll = function () { };
    }

    // Add copy button
    let pres = document.getElementsByTagName('pre');
    Array.from(pres).forEach((element2) => {
        let element = document.createElement('button');
        element.setAttribute('class', 'btn btn-primary');
        element.innerHTML = 'Copy';
        element.style.float = 'right';

        element.addEventListener('click', (e) => {
            disableScrolling();
            console.log(e)
            let x = window.screenX;
            let y = window.screenY;

            element.innerHTML = 'copied';
            let tarea = document.createElement('textarea');
            tarea.innerHTML = element.parentElement.children[1].innerText;
            document.body.append(tarea);
            tarea.focus();
            tarea.select();
            document.execCommand('copy');
            tarea.style.display = 'none';
            setTimeout(() => {
                element.innerHTML = 'Copy';
            }, 2000);
            setTimeout(() => {
                enableScrolling();
            }, 0);
        })
        element2.insertBefore(element, element2.children[0]);
    })

</script>

    


</body>

</html>